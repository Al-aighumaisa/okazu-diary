{
  "lexicon": 1,
  "id": "org.okazu-diary.feed.entry",
  "defs": {
    "main": {
      "type": "record",
      "description": "A diary entry to record a self-gratification activity.",
      "key": "tid",
      "record": {
        "type": "object",
        "required": ["datetime"],
        "properties": {
          "datetime": {
            "type": "string",
            "description": "User-defined date and time associated with the activity, typically the datetime of the climax of the activity or simply of the record creation. The string format must satisfy all the requirements of the `datetime` format from the Lexicon language, except the requirement of whole seconds precision, but the datetime must at least specify up to the day (e.g. valid: `4545-07-21Z`, `1919-04-05T04:05+09:00`, invalid: `1919Z`). This is a subset of ISO 8601-1:2019 datetime format, but not RFC 3339 (whose time format requires whole seconds precision)."
          },
          "subjects": {
            "type": "array",
            "description": "References to `org.okazu-diary.material.external` records associated with the activity. Leave the array empty if it is known that there is no applicable material. Omit the property if the materials are uncertain. Although this property uses a `strongRef` to make a reference to an external repository reliable to some extent, it is recommended that you copy the record to your own repository if you want to reference a record from another repository.",
            "maxLength": 16,
            "items": {
              "type": "ref",
              "ref": "com.atproto.repo.strongRef"
            }
          },
          "tags": {
            "type": "array",
            "description": "User-specified tags for the activity.",
            "maxLength": 64,
            "items": {
              "type": "ref",
              "ref": "org.okazu-diary.material.defs#tag"
            }
          },
          "note": {
            "type": "string",
            "description": "Remarks on the activity.",
            "maxLength": 5000,
            "maxGraphemes": 500
          },
          "labels": {
            "type": "union",
            "description": "Self-label values for this post. Effectively content warnings for the note and tags.",
            "refs": ["com.atproto.label.defs#selfLabels"]
          },
          "hadHiatus": {
            "type": "boolean",
            "default": false,
            "description": "If `true`, indicates that there may have been unrecorded activities since the last entry, so that the data in the meantime are not reliable for statistical purposes."
          },
          "visibility": {
            "type": "string",
            "default": "public",
            "description": "Indicates the intended audience of the entry. A `public` entry (default) is fully public. An `unlisted` entry should not be listed in public profile feeds.",
            "knownValues": ["public", "unlisted"]
          },
          "via": {
            "type": "ref",
            "ref": "com.atproto.repo.strongRef",
            "description": "Reference to another `org.okazu-diary.feed.entry` record or an `org.okazu-diary.material.collectionItem` record from this entry is derived."
          }
        }
      }
    }
  }
}
